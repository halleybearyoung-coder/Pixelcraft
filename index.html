<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survival Voxel Engine</title>
    <link rel="stylesheet" href="style.css">
    <!-- Import Map -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js",
                "three/examples/": "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/"
            }
        }
    </script>
</head>

<body>
    <div id="crosshair"></div>
    <div id="mining-progress"></div>
    <div id="damage-overlay"></div>

    <div id="ui">
        <b>WASD</b> Move | <b>SPACE</b> Jump/Swim | <b>SHIFT</b> Sprint<br>
        <b>Hold L-Click</b> Mine | <b>R-Click</b> Place/Interact<br>
        <b>E</b> Inventory
        <div id="debug">Chunks: 0 | Biome: -</div>
    </div>

    <div id="health-bar">
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
    </div>

    <div id="hotbar"></div>

    <!-- Main Inventory Screen -->
    <div id="inventory-screen" class="screen-overlay">
        <div id="inv-container">
            <div>
                <h2>Inventory</h2>
                <div id="inv-grid"></div>
            </div>
            <div id="item-details">
                <h3 id="selected-item-name">Select Item</h3>
                <div id="lore-text"></div>
                <button id="gemini-btn">✨ Analyze</button>
            </div>
            <div id="crafting-menu">
                <h2 id="crafting-title">Crafting</h2>
                <div id="recipe-list"></div>
            </div>
        </div>
    </div>

    <!-- Container (Chest) Screen -->
    <div id="container-screen" class="screen-overlay">
        <div id="container-wrapper">
            <div class="inventory-section">
                <h3>Chest</h3>
                <div id="chest-grid"></div>
            </div>
            <div class="inventory-section">
                <h3>Inventory</h3>
                <div id="container-player-grid"></div>
            </div>
            <div style="font-size: 14px; color: #aaa;">Click items to move between inventories</div>
        </div>
    </div>

    <!-- Furnace Screen -->
    <div id="furnace-screen" class="screen-overlay">
        <div id="furnace-wrapper">
            <div class="furnace-section">
                <h3>Furnace</h3>
                <div class="furnace-layout">
                    <div class="furnace-col">
                        <div id="furnace-input" class="slot" data-type="input"></div>
                        <div id="furnace-fuel" class="slot" data-type="fuel"></div>
                    </div>
                    <div class="furnace-col arrow-col">
                        <div id="furnace-progress">→</div>
                    </div>
                    <div class="furnace-col">
                        <div id="furnace-output" class="slot" data-type="output"></div>
                    </div>
                </div>
            </div>
            <div class="inventory-section">
                <h3>Inventory</h3>
                <div id="furnace-player-grid"></div>
            </div>
        </div>
    </div>

    <div id="chat-modal">
        <div id="chat-history">
            <div class="chat-entry chat-npc">Survivor: Who goes there?</div>
        </div>
        <div id="chat-controls">
            <input type="text" id="chat-input" placeholder="Say hello...">
            <button id="chat-send">Send</button>
            <button id="chat-close">Leave</button>
        </div>
    </div>

    <div id="blocker">
        <div style="font-size: 36px; margin-bottom: 20px;">Pixelcraft</div>
        <div>By Asteroid Works</div>
        <div>Click to Play</div>
    </div>

    <div id="loading">Generating World...</div>

    <!-- Import Three.js -->
    <script type="module" src="script.js"></script>
</body>

</html>